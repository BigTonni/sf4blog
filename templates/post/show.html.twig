{% extends 'base.html.twig' %}
{% block title %} {{ post.title }} {% endblock %}
{% block content %}
    <div class="row pb-4">
        <div class="col-md-9">
            {% block left %}
                <h1 class="text-center pb-4"> {{ post.title }} </h1>
                <p> {{ post.body }} </p>
                Posted on {{ post.createdAt|date('Y-m-d') }} by <a href="#">{{ post.author.username }}</a> <br>
                Category: {{ post.category.title }} <br>
                Tags:
                {% for tag in post.tags %}
                    <a href="{{- path('tag_show', {slug: tag.slug}) -}}" class="btn btn-outline-primary btn-sm">{{ tag.title }}</a>
                {% endfor %}

                {{ render(controller('App\\Controller\\PostController::commentForm', {'id': post.id})) }}
                {% if post.comments|length > 0 %}
                    <h4>Comments: </h4>
                {% endif %}
                {% for comment in post.comments %}
                    <p>commented <b>{{ comment.authorName }}</b> at {{ comment.createdAt | date("Y-m-d") }}</p>
                    <p>{{ comment.body }}</p>
                    <hr>
                {% endfor %}
            {% endblock %}
        </div>
        <div class="col-md-3">
            {% block right %}
            {% endblock %}
        </div>
    </div>
{% endblock %}
